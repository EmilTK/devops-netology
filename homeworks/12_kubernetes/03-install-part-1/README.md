# Домашнее задание к занятию "12.3 Развертывание кластера на собственных серверах, лекция 1"
Поработав с персональным кластером, можно заняться проектами. Вам пришла задача подготовить кластер под новый проект.

## Задание 1: Описать требования к кластеру
Сначала проекту необходимо определить требуемые ресурсы. Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:

* База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Кэш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий.
* Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.

## Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

План расчета
1. Сначала сделайте расчет всех необходимых ресурсов.
2. Затем прикиньте количество рабочих нод, которые справятся с такой нагрузкой.
3. Добавьте к полученным цифрам запас, который учитывает выход из строя как минимум одной ноды.
4. Добавьте служебные ресурсы к нодам. Помните, что для разных типов нод требовния к ресурсам разные.
5. Рассчитайте итоговые цифры.
6. В результате должно быть указано количество нод и их параметры.

### Общий расчет всех требуемых ресурсов

|	      |RAM	     | RAM * PODS  | CPU | CPU * PODS | PODS |
|:-------:|:--------:|:-----------:|:---:|:----------:|:----:|
|DB	      |     4	 |    12	   |  1	 |      3 	  |   3  |
|Cache    |	    4	 |    12	   |  1	 |      3	  |   3  |
|Front-end|	   0,05  |	 0,25	   | 0,2 |      1	  |   5  |
|Back-End |	   0,6	 |    6	       |  1	 |      10	  |   10 |
|Total    |          |   **30,25**	   |     |      **17**	  |  **21** |


### Расчет требуемых ресурсов исходя из количества Worker Node

|	| Total Resources	| 3 Nodes | 4 Nodes | 5 Nodes |
|:-:|:-----------------:|:-------:|:-------:|:-------:|
|CPU|		17          |   20	  |   21    |    22   |
|RAM|	    31	        |   34	  |   35    |    36   |

### Требуемые ресурсы Worker Node согласно расчитанной нагрузке

|	      | Total Resources	| 3 Nodes | 4 Nodes | 5 Nodes |
|:-------:|:---------------:|:-------:|:-------:|:-------:|
|CPU      |		17          |   7	  |   6     |    5    |
|RAM      |	    31	        |   12	  |   9     |    8    | 
|Total CPU|                 |   **21**    |   **24**    |    **25**   |
|Total RAM|                 |   **36**    |   **36**    |    **40**   |

Данный расчет сделан без учёта отказоустойчивости, в случае выхода одной из нод, оставшихся ресурсов будет недостаточно для обеспечения бесперебойной работы сервиса.
Для обеспечения отказоустойчивости кластера и бесперебойной работы сервиса предлагаю использовать:

|	               |CPU | RAM |	Nodes |	Total CPU| Total RAM |
|:----------------:|:--:|:---:|:-----:|:--------:|:---------:|
|Control Plane Node| 2	|  2  |  3    | 	6	 |    6      |
|Worker Node       | 6	|  9  |	 5	  |     30   |   45      |
|Total			   |	|     |**8**  |   **36** |   **51**  |



